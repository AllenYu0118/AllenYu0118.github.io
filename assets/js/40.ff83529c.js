(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{277:function(a,e,s){"use strict";s.r(e);var t=s(2),r=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"强缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强缓存"}},[a._v("#")]),a._v(" 强缓存")]),a._v(" "),s("h3",{attrs:{id:"expires-过期时间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#expires-过期时间"}},[a._v("#")]),a._v(" Expires 过期时间")]),a._v(" "),s("p",[a._v("返回一个绝对时间，如果请求时间在设定的 "),s("code",[a._v("Expires")]),a._v(" 之前，就会命中缓存，直接使用本地缓存:")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("Expires: Thu, 08 Oct "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2020")]),a._v(" 07:30:03 GMT\n")])])]),s("p",[a._v("上面配置的意思是：缓存在 2020 年 10 月 8 日 7 时 30 分 03 秒前有效")]),a._v(" "),s("h3",{attrs:{id:"cache-control-缓存控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cache-control-缓存控制"}},[a._v("#")]),a._v(" Cache-Control 缓存控制")]),a._v(" "),s("p",[a._v("存在多个属性值，但 "),s("code",[a._v("max-age")]),a._v(" 最有意义，指定了缓存的时间，描述的是一个相对时间，而非绝对时间：")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("Cache-Control: max-age"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("60")]),a._v("\n")])])]),s("p",[a._v("上面配置的意思是：缓存从当前时间的 60 秒内都有效")]),a._v(" "),s("h3",{attrs:{id:"为什么有两个控制参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么有两个控制参数"}},[a._v("#")]),a._v(" 为什么有两个控制参数")]),a._v(" "),s("p",[a._v("如果同时设置了 "),s("code",[a._v("Expires")]),a._v(" 和 "),s("code",[a._v("Cache-Control")]),a._v("，哪个会生效呢？依据 "),s("code",[a._v("W3C")]),a._v(" 的说明，"),s("code",[a._v("max-age")]),a._v(" 优先于 "),s("code",[a._v("Expires")])]),a._v(" "),s("h2",{attrs:{id:"协商缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[a._v("#")]),a._v(" 协商缓存")]),a._v(" "),s("h3",{attrs:{id:"last-modified-if-modified-since-修改时间验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#last-modified-if-modified-since-修改时间验证"}},[a._v("#")]),a._v(" Last-Modified && If-Modified-Since 修改时间验证")]),a._v(" "),s("p",[a._v("携带 "),s("code",[a._v("If-Modified-Since")]),a._v(" 的前提是，缓存中存储了 "),s("code",[a._v("Last-Modified")]),a._v(" 信息，每个请求返回时，"),s("code",[a._v("response")]),a._v(" 可以携带 "),s("code",[a._v("Last-Modified")]),a._v(" 字段，表示资源最后修改的日期。")]),a._v(" "),s("h3",{attrs:{id:"etag-if-none-match-内容-hash-值验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#etag-if-none-match-内容-hash-值验证"}},[a._v("#")]),a._v(" ETag && If-None-Match 内容 hash 值验证")]),a._v(" "),s("p",[s("code",[a._v("ETag")]),a._v(" 是根据当前请求的资源生成的唯一标识，这个唯一标识是一个字符串，只要资源有变化，这个字符串就会不同。")])])}),[],!1,null,null,null);e.default=r.exports}}]);