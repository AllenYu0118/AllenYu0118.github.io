---
title: keyof and typeof
date: 2022-03-25 09:15:39
permalink: /pages/b7ea50/
categories:
  - ts
tags:
  -
---

## keyof

它用来遍历和提取类型系统中的 key 值，并返回一个用字面量类型组合成的新类型。

举个 🌰

```typescript
interface Person {
  name: string
  age: number
  sex: string
}

// 获取 Person 类型中的 key 的联合字面量类型
type PersonProperty = keyof Person

// 等价于
type PersonProperty = 'name' | 'age' | 'sex'
```

## typeof

当我们有一个对象实例，但是没有这个对象的 `interface` 时，可以通过 `typeof` 定义一个。

举个 🌰

```typescript
const Me = {
  name: 'Allen',
  age: 18,
  sex: 'male',
}

type Person = typeof Me

// 等价于
interface Person {
  name: string
  age: number
  sex: string
}
```

如果是一个数组呢？

```typescript
const cat = ['kitty', 2, 12, true]

type Cat = typeof cat

// 等价于
type Cat = (string | number | boolean)[]
```

## 参考

- [Keyof Type Operator](https://www.typescriptlang.org/docs/handbook/2/keyof-types.html)
- [Typeof Type Operator](https://www.typescriptlang.org/docs/handbook/2/typeof-types.html)
- [简单易懂的 keyof typeof 分析](https://juejin.cn/post/7023238396931735583)
